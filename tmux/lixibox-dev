tmux has-session -t development
if [ $? != 0 ]
then
	#editor

	tmux new-session -s development -n editor -d

	tmux send-keys -t development 'cd ~/work/lixibox/lixibox' C-m
	tmux split-window -v -l 12 -t development # split vertical current window to 2 pane. `l` is length
	tmux split-window -h -t development:1.2 # split pane 2 of window 1 to 2 panes
	tmux send-keys -t development:1.1 'nvim' C-m # launch neovim in pane 1 of window 1
	tmux send-keys -t development:1.2 'cd ~/work/lixibox/lixibox' C-m # go to working directory in pane 2 of window 1
	tmux send-keys -t development:1.2 'rails c' C-m # run 'rails c' in pane 2 of window 1
	tmux send-keys -t development:1.3 'cd ~/work/lixibox/lixibox' C-m # go to working directory in pane 3 of window 1

	# console and local server log

	tmux new-window -n local -t development
	tmux send-keys -t development:2 'cd ~/work/lixibox/lixibox' C-m
	tmux send-keys -t development:2 'rails s' C-m

	# server
	tmux new-window -n server -t development
	tmux split-window -h -t development
	tmux send-keys -t development:3.1 'ey console -e live' C-m
	tmux send-keys -t development:3.2 'ey ssh -e live' C-m

	# display first window of the session

	tmux select-window -t development:1
	tmux select-pane -t 1
fi
tmux attach -t development

